summary: USB multiplexor library for iOS devices
web-url: https://www.libimobiledevice.org
git-url: https://github.com/libimobiledevice/libusbmuxd
src-url: https://github.com/libimobiledevice/libusbmuxd/archive/2.0.2.tar.gz
src-sha: 8ae3e1d9340177f8f3a785be276435869363de79f491d05d8a84a59efc8a8fdc
license: LGPL-2.1-or-later|COPYING|https://raw.githubusercontent.com/libimobiledevice/libusbmuxd/master/COPYING
dep-upp: pkg-config libtool
dep-pkg: libplist
bsystem: autogen

# int getifaddrs(struct ifaddrs** __list_ptr) __INTRODUCED_IN(24);
# void freeifaddrs(struct ifaddrs* __ptr) __INTRODUCED_IN(24);
sdk-api: 24


prepare2: |
    sed_in_place 's|/var/run|/data/data/me.twc.libimobiledevicejni/var/run|' include/usbmuxd-proto.h &&
    sed_in_place 's|/var/run|/data/data/me.twc.libimobiledevicejni/var/run|' src/libusbmuxd.c &&
    NOCONFIGURE=yes ./autogen.sh

dopatch: |
    sed_in_place 's|/var/run|/data/local/tmp|' include/usbmuxd-proto.h &&
    sed_in_place 's|/var/run|/data/local/tmp|' src/libusbmuxd.c &&
    NOCONFIGURE=yes ./autogen.sh
