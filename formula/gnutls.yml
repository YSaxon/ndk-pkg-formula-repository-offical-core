summary: GNU Transport Layer Security (TLS) Library
git-url: https://github.com/gnutls/gnutls
web-url: https://www.gnutls.org/
src-url: https://www.gnupg.org/ftp/gcrypt/gnutls/v3.8/gnutls-3.8.2.tar.xz
src-sha: e765e5016ffa9b9dd243e363a0460d577074444ee2491267db2e96c9c2adef77
dep-pkg: gmp libunistring nettle libtasn1 libidn2 p11-kit
license: LGPL-2.1-or-later GPL-3.0-only

# https://gitlab.com/libidn/libidn2/-/issues/80
dopatch: cp "$libidn2_LIBRARY_DIR/libidn2.so" ../lib/

install: |
    configure \
        --without-gcov \
        --disable-tests \
        --disable-valgrind-tests \
        --disable-code-coverage \
        --disable-gtk-doc \
        --disable-guile \
        --enable-gcc-warnings

# no member named '_p' in 'struct __sFILE'
#  return fp->_p - fp->_bf._base;
api-min: 24
