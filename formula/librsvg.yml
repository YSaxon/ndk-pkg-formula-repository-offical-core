summary: Library to render SVG files using Cairo
web-url: https://wiki.gnome.org/Projects/LibRsvg
git-url: https://gitlab.gnome.org/GNOME/librsvg
src-url: https://download-fallback.gnome.org/sources/librsvg/2.54/librsvg-2.54.4.tar.xz
src-sha: ea152a243f6a43c0e036a28c70de3fcbcdea5664c6811c78592bc229ecc24833
license: LGPL-2.1-or-later
dep-pkg: gdk-pixbuf pango
dep-upp: pkg-config gdk-pixbuf-query-loaders
bsystem: configure cargo

install: |
    # https://gitlab.gnome.org/GNOME/librsvg/-/issues/411
    if [ -d "/usr/lib/x86_64-linux-gnu/gdk-pixbuf-2.0/" ] ; then
        export PATH="/usr/lib/x86_64-linux-gnu/gdk-pixbuf-2.0/:$PATH"
    fi

    export LDFLAGS="$LDFLAGS -Wl,-z,muldefs"

    configure \
        --enable-tools=yes \
        --enable-pixbuf-loader=yes \
        --enable-introspection=no \
        --disable-static
