summary: Protocol Buffers(data interchange format) compiler and library developed by Google
git-url: https://github.com/protocolbuffers/protobuf
git-sha: 2c5fa078d8e86e5f4bd34e6f4c9ea9e8d7d4d44a
version: 23.4
#src-url: https://github.com/protocolbuffers/protobuf/releases/download/v23.4/protobuf-23.4.tar.gz
#src-sha: a700a49470d301f1190a487a923b5095bf60f08f4ae4cac9f5f7c36883d17971
license: BSD-3-Clause
dep-pkg: zlib jsoncpp abseil

# used by other package. make sure protoc and libprotoc have the same version
build0: |
    cmakew \
        -DCMAKE_CXX_STANDARD=17 \
        -Dprotobuf_WITH_ZLIB=ON \
        -Dprotobuf_BUILD_TESTS=OFF \
        -Dprotobuf_BUILD_EXAMPLES=OFF \
        -Dprotobuf_BUILD_LIBPROTOC=ON \
        -Dprotobuf_BUILD_SHARED_LIBS=OFF

install: |
    cmakew \
        -DCMAKE_CXX_STANDARD=17 \
        -Dprotobuf_WITH_ZLIB=ON \
        -Dprotobuf_BUILD_TESTS=OFF \
        -Dprotobuf_BUILD_EXAMPLES=OFF \
        -Dprotobuf_BUILD_LIBPROTOC=ON \
        -Dprotobuf_BUILD_SHARED_LIBS=OFF \
        -Dprotobuf_ABSL_PROVIDER=package \
        -Dprotobuf_JSONCPP_PROVIDER=package
